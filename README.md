![](https://unidao.fund/unidao_logo_64.png)

# Контракт UniDAO SimpleMinter

## Цель

Основная задача проводить справедливый обмен (выпуск/погашение) токенов ДАО на активы принадлежащие ДАО.

## Определения

**Актив** - ограниченный список ERC20 токенов + ETH

**Основной актив** - один из активов зафиксированный на уровне контракта (COLLATERAL)

**Займы** - займы на площадке Compound по одному из активов

**Цена токена ДАО** = (кол-во основного актива ДАО)/(суммарное кол-во токенов ДАО)

### Состояния ДАО

**Пассивное** - все активы ДАО находятся в основном активе. Исключение небольшое кол-во ETH (<0.1). Займов нет.

**Активное** - На балансе есть какой-либо актив кроме основного. Займов нет.

**С займами** - На балансе ДАО есть хоть один займ.

## Функциональность

### Выпуск токенов ДАО. mint()

Разрешается только в пассивном состоянии.

В качестве оплаты за токены принимается только основной актив.

Инициатором может быть только обладатель соответствующей роли.

**Кол-во начисляемых токенов ДАО** = (кол-во зачисленного актива)/(цена токена ДАО)

### Погашение токенов ДАО. redeem()

Разрешается только в пассивном состоянии.

Погашение токенов проводится путем выплаты доли основного актива.

Инициатором может быть только обладатель соответствующей роли.

**Кол-во к выводу**  = (Цена токена ДАО)*(кол-во погашаемых токенов)

### Пропорциональное погашение токенов ДАО. redeemUrgent()

Разрешается только в пассивном или активном состоянии.

Погашение токенов проводится путем выплаты доли всех активов ДАО.

Инициатором может быть только обладатель соответствующей роли.

**Получаемое кол-во актива N** = (Кол-во Токена N на счету ДАО)  * (Кол-во погашаемых токенов ДАО) / (Суммарное кол-во токенов ДАО)

